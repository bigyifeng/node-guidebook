(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{265:function(v,_,i){"use strict";i.r(_);var l=i(0),e=Object(l.a)({},(function(){var v=this,_=v.$createElement,i=v._self._c||_;return i("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[i("h1",{attrs:{id:"note"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[v._v("#")]),v._v(" Note")]),v._v(" "),i("h2",{attrs:{id:"base-on-koa"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#base-on-koa"}},[v._v("#")]),v._v(" Base on Koa")]),v._v(" "),i("ul",[i("li",[v._v("类似于 Connect 的定位，专注于 http 的 abstraction 层，很薄")]),v._v(" "),i("li",[v._v("Middleware 的局限\n"),i("ul",[i("li",[v._v("定位是拦截用户请求，并在它前后做一些事情")]),v._v(" "),i("li",[v._v("但实际情况下，很多功能与请求无关，如定时任务，初始化，Application 扩展")]),v._v(" "),i("li",[v._v("功能之间的顺序不能简单的交给开发者，需要统一编排，管理")])])])]),v._v(" "),i("h2",{attrs:{id:"specification"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#specification"}},[v._v("#")]),v._v(" Specification")]),v._v(" "),i("p",[v._v("理想的企业级 Web 开发的核心要素：")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("编程模型约束")])]),v._v(" "),i("li",[i("p",[v._v("丰富的扩展点")])]),v._v(" "),i("li",[i("p",[v._v("可维护性")])]),v._v(" "),i("li",[i("p",[v._v("研发效率")])]),v._v(" "),i("li",[i("p",[v._v("多进程管理")])]),v._v(" "),i("li",[i("p",[v._v("日志")])]),v._v(" "),i("li",[i("p",[v._v("错误处理")])]),v._v(" "),i("li",[i("p",[v._v("安全")])]),v._v(" "),i("li",[i("p",[v._v("故障排除体系")])]),v._v(" "),i("li",[i("p",[v._v("本地开发工具包")])]),v._v(" "),i("li",[i("p",[v._v("测试")])]),v._v(" "),i("li",[i("p",[v._v("部署体系")])]),v._v(" "),i("li",[i("p",[v._v("跨语言 RPC")])]),v._v(" "),i("li",[i("p",[v._v("分布式中间件")])]),v._v(" "),i("li",[i("p",[v._v("会话管理")])])]),v._v(" "),i("h2",{attrs:{id:"编码模型规范"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#编码模型规范"}},[v._v("#")]),v._v(" 编码模型规范")]),v._v(" "),i("ul",[i("li",[v._v("约定优于配置")]),v._v(" "),i("li",[v._v("Loader 机制 - 自动挂载")]),v._v(" "),i("li",[v._v("Controller / Service")])]),v._v(" "),i("h2",{attrs:{id:"插件生态"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#插件生态"}},[v._v("#")]),v._v(" 插件生态")]),v._v(" "),i("p",[v._v("微内核 + 插件生态")]),v._v(" "),i("p",[v._v("绝大部分功能由插件实现 => 企业级开发要素")]),v._v(" "),i("ul",[i("li",[v._v("进程：egg-cluster")]),v._v(" "),i("li",[v._v("安全：egg-security")]),v._v(" "),i("li",[v._v("模版：egg-view-nunjucks / ...")]),v._v(" "),i("li",[v._v("日志：egg-logger / egg-tracer / ...")]),v._v(" "),i("li",[v._v("数据库：egg-mysql / egg-sequelize")]),v._v(" "),i("li",[v._v("统一登录：egg-passport-xxx")])]),v._v(" "),i("p",[v._v("session\npassport\nsecurity\ncluster\nview\nloader\nvalidate\nlogger\nsocket.io")]),v._v(" "),i("p",[v._v("兼容 Koa 中间件生态")]),v._v(" "),i("p",[v._v("大部分的插件都只需对社区模块简单封装")]),v._v(" "),i("h2",{attrs:{id:"插件生态-进程管理"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#插件生态-进程管理"}},[v._v("#")]),v._v(" 插件生态 - 进程管理")]),v._v(" "),i("ul",[i("li",[v._v("健壮性，处理未捕抓异常，优雅退出")]),v._v(" "),i("li",[v._v("Master / Worker 之外，还多了个 Agent 进程\n"),i("ul",[i("li",[v._v("只有一个 Agent，负责脏活累活")]),v._v(" "),i("li",[v._v("不对外服务，专门处理公共事务")]),v._v(" "),i("li",[v._v("如：定时日志切割，公共资源访问，后端长连接")])])]),v._v(" "),i("li",[v._v("提供进程间通信模型")]),v._v(" "),i("li",[v._v("自行实现，不实用 PM2，越精简的代码越稳定")])]),v._v(" "),i("h2",{attrs:{id:"插件生态-日志"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#插件生态-日志"}},[v._v("#")]),v._v(" 插件生态 - 日志")]),v._v(" "),i("ul",[i("li",[v._v("日志分级")]),v._v(" "),i("li",[v._v("自定义日志")]),v._v(" "),i("li",[v._v("多进程日志")]),v._v(" "),i("li",[v._v("自动切割")]),v._v(" "),i("li",[v._v("统一错误日志")]),v._v(" "),i("li",[v._v("高性能")]),v._v(" "),i("li",[v._v("全链路跟踪（open-tracer）")]),v._v(" "),i("li",[v._v("统一的日志规范，方便接入监控")])]),v._v(" "),i("h2",{attrs:{id:"插件生态-安全"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#插件生态-安全"}},[v._v("#")]),v._v(" 插件生态 - 安全")]),v._v(" "),i("ul",[i("li",[v._v("集合了阿里集团多年的安全经验积累")]),v._v(" "),i("li",[v._v("内建安全机制")]),v._v(" "),i("li",[v._v("XSS / CSRF / 常见安全头 / 钓鱼 / 标签清晰 / 中间人攻击 ...")]),v._v(" "),i("li",[v._v("对称 / 非对称加解密")]),v._v(" "),i("li",[v._v("结合代码扫描")]),v._v(" "),i("li",[v._v("传送门：egg-security")])]),v._v(" "),i("h2",{attrs:{id:"插件生态-跨语言-rpc"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#插件生态-跨语言-rpc"}},[v._v("#")]),v._v(" 插件生态 - 跨语言 RPC")]),v._v(" "),i("ul",[i("li",[v._v("微服务时代，异构语言")]),v._v(" "),i("li",[v._v("通过自动化手段完成序列化与反序列化")]),v._v(" "),i("li",[v._v("达到 JS 与 Java 互操作对开发者基本无感知")]),v._v(" "),i("li",[v._v("HSF / GRPC / ProtoBuf / Hessian / ...")])]),v._v(" "),i("h2",{attrs:{id:"插件生态-故障排除-alinode"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#插件生态-故障排除-alinode"}},[v._v("#")]),v._v(" 插件生态 - 故障排除 AliNode")]),v._v(" "),i("p",[v._v("性能分析，问题定位")]),v._v(" "),i("p",[v._v("提供 egg-alinode 插件自动接入")]),v._v(" "),i("h2",{attrs:{id:"作为团队的技术负责人"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#作为团队的技术负责人"}},[v._v("#")]),v._v(" 作为团队的技术负责人")]),v._v(" "),i("ul",[i("li",[v._v("你的团队是否遇到过\n"),i("ul",[i("li",[v._v("维护很多个项目，每个项目都需要复制拷贝诸如 gulpfile.js / webpack.config.js 之类的文件")]),v._v(" "),i("li",[v._v("每个项目都需要使用一些相同的类库，相同的配置")]),v._v(" "),i("li",[v._v("在新项目中对做了一个优化后，如何同步到其他项目？")]),v._v(" "),i("li",[v._v("紧急修复后如何快速升级所有项目？")])])]),v._v(" "),i("li",[v._v("你的团队是否需要：\n"),i("ul",[i("li",[v._v("统一的技术选型，包括基础措施，插件，模版，数据库...")]),v._v(" "),i("li",[v._v("统一的默认配置 / 统一的部署方案 / 统一的约束 / ...")])])])]),v._v(" "),i("h2",{attrs:{id:"框架定制能力"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#框架定制能力"}},[v._v("#")]),v._v(" 框架定制能力")]),v._v(" "),i("ul",[i("li",[v._v("「框架」是对适合特定业务场景的最佳实践的约束和封装")]),v._v(" "),i("li",[v._v("便于统一团队的开发模式，一致的开发体验，一次性学习成本")]),v._v(" "),i("li",[v._v("跟应用，插件区别不大，一样由 Service / Config / Extend / Middleware / ...")]),v._v(" "),i("li",[v._v("支持多层继承，支持自定义加载规范")]),v._v(" "),i("li",[v._v("基于 npm，便于统一管控，升级，维护")])]),v._v(" "),i("h2",{attrs:{id:"代码君的演化之旅"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#代码君的演化之旅"}},[v._v("#")]),v._v(" 代码君的演化之旅")]),v._v(" "),i("p",[v._v("应用内部逻辑 -> 应用内部插件 -> 独立插件 -> 插件集规范 -> 沉淀到框架")]),v._v(" "),i("p",[v._v("差异化定制 <-> 生态共建")]),v._v(" "),i("h2",{attrs:{id:"应用开发者-vs-团队架构师"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#应用开发者-vs-团队架构师"}},[v._v("#")]),v._v(" 应用开发者 vs 团队架构师")]),v._v(" "),i("ul",[i("li",[v._v("应用开发者\n"),i("ul",[i("li",[v._v("强约束")]),v._v(" "),i("li",[v._v("提供最佳实践")]),v._v(" "),i("li",[v._v("让 P5 P6 达到 P7 水平")])])]),v._v(" "),i("li",[v._v("团队架构师\n"),i("ul",[i("li",[v._v("灵活")]),v._v(" "),i("li",[v._v("自由组装")]),v._v(" "),i("li",[v._v("让 P7 P8 尽情发挥实力")])])])]),v._v(" "),i("hr"),v._v(" "),i("ul",[i("li",[v._v("帮业务做决定，提供最佳实践的同时，给业务一定的自由度")]),v._v(" "),i("li",[v._v("管生还管养，整合开发，调试，测试和构建，支撑研发的每一个阶段")]),v._v(" "),i("li",[v._v("对开发者强约束提升研发效率")]),v._v(" "),i("li",[v._v("对于团队架构师，则提供灵活的定制能力")])]),v._v(" "),i("h2",{attrs:{id:"基于-github-的协作模式"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#基于-github-的协作模式"}},[v._v("#")]),v._v(" 基于 Github 的协作模式")]),v._v(" "),i("ul",[i("li",[v._v("基于 Github 的 「一站式+硬盘式+异步协作」模式")]),v._v(" "),i("li",[v._v("提供给程序员的服务，如果能够做到不转移、不分散他们的注意力，就是积了大德")]),v._v(" "),i("li",[v._v("Gitlab / Github 做到了，一切以代码为核心，围绕在代码周边的是：需求（issue）、持续集成（gitlab-ci）、Code Review（原生态天然自带功能，非常自然）等等")]),v._v(" "),i("li",[v._v("基于 Github 的团队协作模式")])]),v._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[v._v("发起 RFC 提案 -> Coding -> Pull Request -> CI 持续继承 -> Code Review -> Release\n")])])]),i("ul",[i("li",[v._v("RFC 提案：背景/遇到的问题/解决思路/方案概要/伪代码")]),v._v(" "),i("li",[v._v("编写提案，是整理思路的过程，由此发起的头脑风暴的效率高，而且是可追溯的")]),v._v(" "),i("li",[v._v("即使是当时没有参与讨论的开发者，事后也能通过 issue 了解某个需求")]),v._v(" "),i("li",[v._v("CI 包括 Lint / 单测 / 覆盖率 /安全等检查，Code Review 需至少。。。遵循 Semver 规则")])]),v._v(" "),i("h2",{attrs:{id:"完善的配套工具链"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#完善的配套工具链"}},[v._v("#")]),v._v(" 完善的配套工具链")]),v._v(" "),i("ul",[i("li",[v._v("核心要素：研发效率")]),v._v(" "),i("li",[v._v("egg-bin 工具集成了 dev / debug / test / cov 等功能，减少开发期配置成本")]),v._v(" "),i("li",[v._v("egg-mock 方便编写测试用例，coffee 方便多进程和命令行工具的测试")]),v._v(" "),i("li",[v._v("cnpm 加速依赖安装和 GFW 问题")]),v._v(" "),i("li",[v._v("框架万年兼容 vs 自动化升级旧代码（egg0codemod / jscodesh）")])]),v._v(" "),i("h2",{attrs:{id:"版本发布遵循-semver-规则"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#版本发布遵循-semver-规则"}},[v._v("#")]),v._v(" 版本发布遵循 Semver 规则")]),v._v(" "),i("ul",[i("li",[v._v("遵循 Semver，使用 ^ 来引入依赖，不锁版本，更积极的升级策略")]),v._v(" "),i("li",[v._v("紧急升级只需重新构建部署一次，无需众多应用修改代码")]),v._v(" "),i("li",[v._v("完善的测试 / 及时止血 / 快速修复")]),v._v(" "),i("li",[v._v("应用开发者 vs 团队技术负责人的视角")]),v._v(" "),i("li",[v._v("「为什么我不实用 shrink-wrap(lock)」 / 「如何挑选高质量的」")])]),v._v(" "),i("h2",{attrs:{id:"阿里的-node-js-应用场景"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#阿里的-node-js-应用场景"}},[v._v("#")]),v._v(" 阿里的 Node.js 应用场景")]),v._v(" "),i("p",[v._v("主要替代过去使用 PHP / Java Web 的部分场景")]),v._v(" "),i("ul",[i("li",[v._v("业务部门 Web 框架")]),v._v(" "),i("li",[v._v("企业级开发框架（基于 Koa）")]),v._v(" "),i("li",[v._v("基础设施接入")]),v._v(" "),i("li",[v._v("运维接入")]),v._v(" "),i("li",[v._v("内部 npm registry")])]),v._v(" "),i("hr"),v._v(" "),i("p",[v._v("https://cnodejs.org/topic/5d784a29a7474a231a58ad80")]),v._v(" "),i("ul",[i("li",[v._v("基础教程\n"),i("ul",[i("li",[v._v("基本使用")]),v._v(" "),i("li",[v._v("路由")]),v._v(" "),i("li",[v._v("控制器")]),v._v(" "),i("li",[v._v("服务")]),v._v(" "),i("li",[v._v("Model")]),v._v(" "),i("li",[v._v("Config 和插件")]),v._v(" "),i("li",[v._v("View 模版引擎")]),v._v(" "),i("li",[v._v("中间件")]),v._v(" "),i("li",[v._v("扩展 Extend")]),v._v(" "),i("li",[v._v("CSRF 防范")]),v._v(" "),i("li",[v._v("Cookie")]),v._v(" "),i("li",[v._v("Session")]),v._v(" "),i("li",[v._v("定时任务")]),v._v(" "),i("li",[v._v("Mongoose")]),v._v(" "),i("li",[v._v("MySQL")]),v._v(" "),i("li",[v._v("Sequelize ORM 框架")])])]),v._v(" "),i("li",[v._v("仿小米\n"),i("ul",[i("li",[v._v("基础应用")]),v._v(" "),i("li",[v._v("egg-view 多模版引擎")]),v._v(" "),i("li",[v._v("MD5 使用")]),v._v(" "),i("li",[v._v("生成验证码")]),v._v(" "),i("li",[v._v("数据库 ER 图")]),v._v(" "),i("li",[v._v("用户 RBAC 权限管理（不同角色用户登录后台显示不同菜单，涉及角色、权限、用户的增删改查以及关联）")]),v._v(" "),i("li",[v._v("公共 AJAX 改变状态")]),v._v(" "),i("li",[v._v("AJAX 双击更改数量")]),v._v(" "),i("li",[v._v("AJAX 双击排序")]),v._v(" "),i("li",[v._v("图片上传")]),v._v(" "),i("li",[v._v("生成缩略图")]),v._v(" "),i("li",[v._v("wysiwyg-editor 的使用")]),v._v(" "),i("li",[v._v("商品管理中动态生成商品属性表单")]),v._v(" "),i("li",[v._v("批量上传图片插件")]),v._v(" "),i("li",[v._v("Redis 的使用")]),v._v(" "),i("li",[v._v("发送短信")]),v._v(" "),i("li",[v._v("PC 端微信支付")]),v._v(" "),i("li",[v._v("PC 端支付宝支付")]),v._v(" "),i("li",[v._v("Elasticearch 全文搜索引擎")]),v._v(" "),i("li",[v._v("Socket.io 机器人")]),v._v(" "),i("li",[v._v("Socket.io 多人聊天室")]),v._v(" "),i("li",[v._v("Socket.io 群聊")]),v._v(" "),i("li",[v._v("前后端分离 RESTful API 接口")]),v._v(" "),i("li",[v._v("购买域名服务器")]),v._v(" "),i("li",[v._v("域名备案")]),v._v(" "),i("li",[v._v("Nginx 负载均衡")]),v._v(" "),i("li",[v._v("SSL 证书 HTTPS 配置")])])])]),v._v(" "),i("hr"),v._v(" "),i("p",[v._v("cool-admin")]),v._v(" "),i("p",[v._v("https://docs.cool-admin.com/#/introduce/plan?id=todo")]),v._v(" "),i("ul",[i("li",[v._v("动态创建定时任务")]),v._v(" "),i("li",[v._v("多种类型异常处理")]),v._v(" "),i("li",[v._v("注解式事务")]),v._v(" "),i("li",[v._v("微服务支持，基于 SofaRPC")])]),v._v(" "),i("p",[v._v("Node 后台手册")]),v._v(" "),i("p",[v._v("https://docs.cool-admin.com/#/back/node/index")])])}),[],!1,null,null,null);_.default=e.exports}}]);