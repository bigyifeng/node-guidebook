(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{291:function(e,v,_){"use strict";_.r(v);var t=_(0),s=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"npm"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[e._v("#")]),e._v(" NPM")]),e._v(" "),_("p",[e._v("npm 即 npde package module")]),e._v(" "),_("p",[e._v("CommonJS 的包规范的定义由包结构和包描述文件两个部分组成，前者用于组织包中的各种文件，后者则用于描述包的相关信息，以供外部读取分析。")]),e._v(" "),_("h2",{attrs:{id:"包结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#包结构"}},[e._v("#")]),e._v(" 包结构")]),e._v(" "),_("p",[e._v("包实际上是一个存档文件，即一个目录直接打包为 "),_("code",[e._v(".zip")]),e._v(" 或 "),_("code",[e._v(".tar.gz")]),e._v(" 格式的文件，安装后解压还原为目录。完全符合 CommonJS 规范的包目录应该包含如下这些文件。")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("package.json")]),e._v("：包描述文件")]),e._v(" "),_("li",[_("code",[e._v("bin")]),e._v("：用于存放二进制文件的目录")]),e._v(" "),_("li",[_("code",[e._v("lib")]),e._v("：用于存放 JavaScript 代码的目录")]),e._v(" "),_("li",[_("code",[e._v("doc")]),e._v("：用于存放文档的目录")]),e._v(" "),_("li",[_("code",[e._v("test")]),e._v("：用于存放单元测试用例的代码")])]),e._v(" "),_("h2",{attrs:{id:"包描述文件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#包描述文件"}},[e._v("#")]),e._v(" 包描述文件")]),e._v(" "),_("p",[e._v("包描述文件用于表达非代码相关的信息，它是一个 JSON 格式的文件，位于包的根目录下。NPM 的所有行为都与包描述文件的字段息息相关。")]),e._v(" "),_("p",[e._v("CommonJS 的包规范：")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("name")]),e._v("：包名。由小写的字母和数字组成，可以包含 "),_("code",[e._v(".")]),e._v("、"),_("code",[e._v("_")]),e._v(" 被 "),_("code",[e._v("-")]),e._v("，但不允许出现空格。")]),e._v(" "),_("li",[_("code",[e._v("descript")]),e._v("：包简介。")]),e._v(" "),_("li",[_("code",[e._v("version")]),e._v("：版本号。语义化的版本号，详细定义参看 "),_("a",{attrs:{href:"http://semver.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://semver.org"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("code",[e._v("keywords")]),e._v("：关键词数组，用于分类搜索。")]),e._v(" "),_("li",[_("code",[e._v("maintainers")]),e._v("：包维护者列表。每个维护者由 name、email 和 web 这三个属性组成。")]),e._v(" "),_("li",[_("code",[e._v("contributors")]),e._v("：贡献者列表。")]),e._v(" "),_("li",[_("code",[e._v("bugs")]),e._v("：用于反馈 BUG 的网页地址或邮件地址")]),e._v(" "),_("li",[_("code",[e._v("licenses")]),e._v("：许可证列表。")]),e._v(" "),_("li",[_("code",[e._v("repositories")]),e._v("：托管源代码的位置列表，表明可以通过哪些方式和地址访问包的源代码")]),e._v(" "),_("li",[_("code",[e._v("dependencies")]),e._v("：包所需要的依赖的包列表")]),e._v(" "),_("li",[_("code",[e._v("devDependencies")]),e._v("：开发时所需要的依赖列表。")]),e._v(" "),_("li",[_("code",[e._v("peerDependencies")]),e._v("：")])]),e._v(" "),_("p",[_("strong",[e._v("其他可选字段")])]),e._v(" "),_("ul",[_("li",[_("code",[e._v("homepage")]),e._v("：当前包的网站地址")]),e._v(" "),_("li",[_("code",[e._v("os")]),e._v("：操作系统支持列表。")]),e._v(" "),_("li",[_("code",[e._v("cpu")]),e._v("：CPU 架构的支持列表")]),e._v(" "),_("li",[_("code",[e._v("engine")]),e._v("：支持的 JavaScript 引擎列表")]),e._v(" "),_("li",[_("code",[e._v("builtin")]),e._v("：标识当前包是否是内建在底层系统的标准组件")]),e._v(" "),_("li",[_("code",[e._v("directories")]),e._v("：包目录说明")]),e._v(" "),_("li",[_("code",[e._v("implements")]),e._v("：实现规范的列表")]),e._v(" "),_("li",[_("code",[e._v("scripts")]),e._v("：脚本说明对象。主要被包管理器用于安装、编译、测试和卸载包。")])]),e._v(" "),_("p",[e._v("NPM 包规范额外的字段：")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("author")]),e._v("：包作者")]),e._v(" "),_("li",[_("code",[e._v("bin")]),e._v("：一些包作者希望包可以作为命令行工具使用。配置好 bin 字段后，通过 "),_("code",[e._v("npm install package_name -g")]),e._v(" 命令可以将脚本添加到执行路径中，之后可以在命令行中直接执行")]),e._v(" "),_("li",[_("code",[e._v("main")]),e._v("：模块引入方法 "),_("code",[e._v("require()")]),e._v(" 在引入包的时，会优先检查这个字段，并将其作为保重其余模块的入口")])]),e._v(" "),_("h2",{attrs:{id:"潜在问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#潜在问题"}},[e._v("#")]),e._v(" 潜在问题")]),e._v(" "),_("p",[e._v("临时使用")]),e._v(" "),_("div",{staticClass:"language-bash extra-class"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" --registry https://registry.npm.taobao.org "),_("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" express\n")])])]),_("p",[e._v("持久使用")]),e._v(" "),_("div",{staticClass:"language-bash extra-class"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" config "),_("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("set")]),e._v(" registry https://registry.npm.taobao.org\n")])])])])}),[],!1,null,null,null);v.default=s.exports}}]);