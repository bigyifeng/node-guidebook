(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[83],{TciP:function(e,n,a){"use strict";a.r(n);var l=a("q1tI"),t=a.n(l),r=(a("B2uJ"),a("+su7"),a("qOys")),c=a.n(r);a("5Yjd");n["default"]=function(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"\u5b88\u62a4\u8fdb\u7a0b"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b88\u62a4\u8fdb\u7a0b"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b88\u62a4\u8fdb\u7a0b"),t.a.createElement("p",null,"\u5b88\u62a4\u8fdb\u7a0b\u662f\u540e\u53f0\u8fd0\u884c\u4e0d\u53d7\u7ec8\u7aef\u63a7\u5236\u7684\u8fdb\u7a0b\uff08\u5982\u8f93\u5165\u3001\u8f93\u51fa\u7b49\uff09\uff0c\u4e00\u822c\u7684\u7f51\u7edc\u670d\u52a1\u90fd\u662f\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u7684\u65b9\u5f0f\u8fd0\u884c\u3002"),t.a.createElement("h2",{id:"\u539f\u56e0"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u539f\u56e0"},t.a.createElement("span",{className:"icon icon-link"})),"\u539f\u56e0"),t.a.createElement("p",null,"\u5b88\u62a4\u8fdb\u7a0b\u8131\u79bb\u7ec8\u7aef\u7684\u4e3b\u8981\u539f\u56e0\u4e24\u70b9\uff1a"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u7528\u6237\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u7684\u7ec8\u7aef\u5728\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u4e4b\u540e\uff0c\u9700\u8981\u6267\u884c\u5176\u4ed6\u4efb\u52a1"),t.a.createElement("li",null,"\u5982\u5176\u4ed6\u7528\u6237\u767b\u5f55\u8be5\u7ec8\u7aef\u540e\uff0c\u4ee5\u524d\u7684\u5b88\u62a4\u8fdb\u7a0b\u7684\u9519\u8bef\u4fe1\u606f\u4e0d\u5e94\u51fa\u73b0\uff0c\u7531\u7ec8\u7aef\u4e0a\u7684\u4e00\u4e9b\u952e\u6240\u4ea7\u751f\u7684\u4fe1\u53f7\uff08\u5982\u4e2d\u65ad\u4fe1\u53f7\uff09\uff0c\u4e0d\u5e94\u4ee5\u524d\u4ece\u8be5\u7ec8\u7aef\u4e0a\u542f\u52a8\u7684\u4efb\u4f55\u5b88\u62a4\u8fdb\u7a0b\u9020\u6210\u5f71\u54cd")),t.a.createElement("h2",{id:"\u5b9e\u73b0\u65b9\u5f0f"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b9e\u73b0\u65b9\u5f0f"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0\u65b9\u5f0f"),t.a.createElement("h3",{id:"\u5b9e\u73b0\u6b65\u9aa4"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b9e\u73b0\u6b65\u9aa4"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0\u6b65\u9aa4"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u7236\u8fdb\u7a0b\u901a\u8fc7 ",t.a.createElement("code",null,"fork")," \u7b49\u65b9\u6cd5\u521b\u5efa\u5b50\u8fdb\u7a0b"),t.a.createElement("li",null,"\u5728\u5b50\u8fdb\u7a0b\u4e2d\u521b\u5efa\u65b0\u56de\u8bdd\uff08\u8c03\u7528\u7cfb\u7edf\u51fd\u6570 setsid\uff09"),t.a.createElement("li",null,"\u6539\u53d8\u5b50\u8fdb\u7a0b\u5de5\u4f5c\u76ee\u5f55\uff08\u5982\uff1a",t.a.createElement("code",null,'"/"')," \u6216 ",t.a.createElement("code",null,'"/usr"')," \u7b49\uff09"),t.a.createElement("li",null,"\u7236\u8fdb\u7a0b\u7ec8\u6b62\uff0c\u5b50\u8fdb\u7a0b\u7531 init \u8fdb\u7a0b\u63a5\u7ba1")),t.a.createElement("h3",{id:"setsid-\u8be6\u89e3"},t.a.createElement("a",{"aria-hidden":"true",href:"#setsid-\u8be6\u89e3"},t.a.createElement("span",{className:"icon icon-link"})),"setsid \u8be6\u89e3"),t.a.createElement("p",null,t.a.createElement("code",null,"setsid")," \u4e3b\u8981\u5b8c\u6210\u4e09\u4ef6\u4e8b\uff1a"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u8be5\u8fdb\u7a0b\u5b8c\u6210\u4e00\u4e2a\u65b0\u4f1a\u8bdd\u7684\u4f1a\u8bdd\u9886\u5bfc"),t.a.createElement("li",null,"\u8be5\u8fdb\u7a0b\u7f16\u7a0b\u4e00\u4e2a\u8fdb\u7a0b\u7ec4\u7684\u7ec4\u957f"),t.a.createElement("li",null,"\u8be5\u8fdb\u7a0b\u6ca1\u6709\u63a7\u5236\u7ec8\u7aef")),t.a.createElement("p",null,"\u7136\u800c\uff0cNodejs \u4e2d\u5e76\u6ca1\u6709\u5bf9 ",t.a.createElement("code",null,"setsid")," \u65b9\u6cd5\u7684\u76f4\u63a5\u5c01\u88c5\uff0c\u7ffb\u9605\u6587\u6863\u53d1\u73b0\u6709\u4e00\u4e2a\u5730\u65b9\u662f\u53ef\u4ee5\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u3002"),t.a.createElement("h3",{id:"\u5b9e\u73b0\u8fc7\u7a0b"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b9e\u73b0\u8fc7\u7a0b"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0\u8fc7\u7a0b"),t.a.createElement(c.a,{code:"const spawn = require('child_process').spawn;\nlet server = null;\n\nfunction startServer() {\n  console.log('restart server');\n\n  server = spawn('node', ['app.js']);\n  console.log('node js pid is' + server.pid);\n\n  server.on('close', function(code, signal) {\n    server.kill(signal);\n    server = startServer();\n  });\n\n  server.on('error', function(code, signal) {\n    server.kill(signal);\n    server = startServer();\n  });\n\n  return server;\n}\n\nstartServer();\n",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("a",{href:"https://cnodejs.org/topic/57adfadf476898b472247eac",target:"_blank",rel:"noopener noreferrer"},"\u5b88\u62a4\u8fdb\u7a0b\u5b9e\u73b0\uff08Node.js \u7248\u672c\uff09",t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},t.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),t.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),t.a.createElement("li",null,t.a.createElement("a",{href:"https://github.com/ElemeFE/node-interview/blob/master/sections/zh-cn/process.md#%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},"\u5b88\u62a4\u8fdb\u7a0b\u5b9e\u73b0\uff08C \u8bed\u8a00\u7248\u672c\uff09",t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},t.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),t.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))))),t.a.createElement("h2",{id:"\u5b88\u62a4\u8fdb\u7a0b\u603b\u7ed3"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b88\u62a4\u8fdb\u7a0b\u603b\u7ed3"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b88\u62a4\u8fdb\u7a0b\u603b\u7ed3"),t.a.createElement("p",null,"\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u5bf9\u4e8e\u5b88\u62a4\u8fdb\u7a0b\u5e76\u4e0d\u964c\u751f\uff0c\u4f8b\u5982 PM2\u3001Egg-Cluster \u7b49\uff0c\u4ee5\u4e0a\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u7684 Demo \u5bf9\u5b88\u62a4\u8fdb\u7a0b\u505a\u4e86\u4e00\u4e2a\u8bf4\u660e\uff0c\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u5bf9\u5b88\u62a4\u8fdb\u7a0b\u7684\u5065\u58ee\u6027\u8981\u6c42\u8fd8\u662f\u5f88\u9ad8\u7684\uff0c\u4f8b\u5982\uff1a\u8fdb\u7a0b\u7684\u5f02\u5e38\u76d1\u542c\u3001\u5de5\u4f5c\u8fdb\u7a0b\u7ba1\u7406\u8c03\u5ea6\u3001\u8fdb\u7a0b\u6302\u6389\u4e4b\u540e\u91cd\u542f\u7b49\u7b49\uff0c\u8fd9\u4e9b\u8fd8\u9700\u8981\u6211\u4eec\u53bb\u4e0d\u65ad\u601d\u8003\u3002")))}}}]);