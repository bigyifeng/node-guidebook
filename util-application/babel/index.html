<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/node-guidebook/umi.css" />
    <script>
      window.routerBase = "/node-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>Babel</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/node-guidebook-favicon.svg&#x27;)" href="/node-guidebook//">Node Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/node-guidebook//overview">概览</a><a href="/node-guidebook//engine">引擎</a><a href="/node-guidebook//system">系统</a><a href="/node-guidebook//network">网络</a><a href="/node-guidebook//server-application">服务端应用</a><a aria-current="page" class="active" href="/node-guidebook//util-application">工具应用</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/node-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/node-guidebook-favicon.svg&#x27;)" href="/node-guidebook//"></a><h1>Node Guidebook</h1><p>Node 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/node-guidebook//overview">概览</a></li><li><a href="/node-guidebook//engine">引擎</a></li><li><a href="/node-guidebook//system">系统</a></li><li><a href="/node-guidebook//network">网络</a></li><li><a href="/node-guidebook//server-application">服务端应用</a></li><li><a aria-current="page" class="active" href="/node-guidebook//util-application">工具应用</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/node-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/node-guidebook//util-application/babel">编译</a><ul><li><a aria-current="page" class="active" href="/node-guidebook//util-application/babel"><span>Babel</span></a></li><li><a href="/node-guidebook//util-application/babel/principle"><span>Babel 工作原理</span></a></li></ul></li><li><a href="/node-guidebook//util-application/test">测试</a><ul><li><a href="/node-guidebook//util-application/test"><span>测试原理</span></a></li><li><a href="/node-guidebook//util-application/test/jest"><span>Jest</span></a></li><li><a href="/node-guidebook//util-application/test/asynchronous"><span>Jest - Asynchronous</span></a></li><li><a href="/node-guidebook//util-application/test/global-functions"><span>Jest - Global Functions</span></a></li><li><a href="/node-guidebook//util-application/test/matchers"><span>Jest - 匹配器</span></a></li><li><a href="/node-guidebook//util-application/test/mock-functions"><span>Jest - 模拟函数</span></a></li><li><a href="/node-guidebook//util-application/test/universality"><span>Jest - 通用</span></a></li><li><a href="/node-guidebook//util-application/test/enzyme"><span>Enzyme</span></a></li></ul></li><li><a href="/node-guidebook//util-application/pratise">Pratise</a><ul><li><a href="/node-guidebook//util-application/pratise/verdaccio"><span>Verdaccio</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="预设" data-depth="2" class=""><a href="/node-guidebook//util-application/babel#预设"><span>预设</span></a></li><li title="插件" data-depth="2" class=""><a href="/node-guidebook//util-application/babel#插件"><span>插件</span></a></li><li title="插件顺序" data-depth="3" class=""><a href="/node-guidebook//util-application/babel#插件顺序"><span>插件顺序</span></a></li><li title="模块介绍" data-depth="2" class=""><a href="/node-guidebook//util-application/babel#模块介绍"><span>模块介绍</span></a></li><li title="babel-core" data-depth="3" class=""><a href="/node-guidebook//util-application/babel#babel-core"><span>babel-core</span></a></li><li title="babel-cli" data-depth="3" class=""><a href="/node-guidebook//util-application/babel#babel-cli"><span>babel-cli</span></a></li><li title="babel-node" data-depth="3" class=""><a href="/node-guidebook//util-application/babel#babel-node"><span>babel-node</span></a></li><li title="babel-register" data-depth="3" class=""><a href="/node-guidebook//util-application/babel#babel-register"><span>babel-register</span></a></li><li title="babel-polyfill" data-depth="3" class=""><a href="/node-guidebook//util-application/babel#babel-polyfill"><span>babel-polyfill</span></a></li><li title="配置文件" data-depth="2" class=""><a href="/node-guidebook//util-application/babel#配置文件"><span>配置文件</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="babel"><a aria-hidden="true" href="#babel"><span class="icon icon-link"></span></a>Babel</h1><p>Babel 是一个工具链，主要用于将 ECMAScript 2015+ 版本的代码转换为向后兼容的 JavaScript 语法，以便能够运行在当前和旧版本的浏览器或其他环境中。下面列出的是 Babel 能为你做的事情：</p><ul><li>语法转换</li><li>通过 Polyfill 方式在目标环境中添加缺失的特性 (通过 @babel/polyfill 模块)</li><li>源码转换 (codemods)</li></ul><p>Babel 的三个主要处理步骤分别是：解析（Parse）、转换（Transform）和生成（Generate）。</p><ul><li>解析：</li><li>转换：</li><li>生成：</li></ul><h2 id="预设"><a aria-hidden="true" href="#预设"><span class="icon icon-link"></span></a>预设</h2><p><a href="https://www.babeljs.cn/docs/presets" target="_blank" rel="noopener noreferrer">更详尽有关预设的配置项<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>官方预设：</p><ul><li><code>@babel/preset-env</code>：使用该预设能允许你使用最新版本的 JavaScript 语法而无须语法转换</li><li><code>@babel/preset-flow</code>：</li><li><code>@babel/preset-react</code>：</li><li><code>@babel/preset-typescript</code>：</li></ul><p>实验性质的预设：stage-x preset 中任何语法转换都是对语言本身的更改，而这些更改尚未被纳入 JavaScript 标准</p><p>[TC39] 将提案分为以下几个阶段：</p><ul><li>[Stage 0] - 设想（Strawman）：只是一个想法，可能有 Babel 插件。</li><li>[Stage 1] - 建议（Proposal）：这是值得跟进的。</li><li>[Stage 2] - 草案（Draft）：初始规范。</li><li>[Stage 3] - 候选（Candidate）：完成规范并在浏览器上初步实现。</li><li>[Stage 4] - 完成（Finished）：将添加到下一个年度版本发布中。</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-json"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
  &quot;presets&quot;: [
    [
      &quot;es2015&quot;,
      {
        &quot;modules&quot;: false
      }
    ],
    &quot;stage-2&quot;
  ]
}
" data-status="copy"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;presets&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token property">&quot;modules&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;stage-2&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="插件"><a aria-hidden="true" href="#插件"><span class="icon icon-link"></span></a>插件</h2><p>Babel 是一个编译器（输入源码 =&gt; 输出编译后的代码）。就像其他编译器一样，编译过程分为三个阶段：解析、转换和打印输出。</p><p>现在，Babel 虽然开箱即用，但是什么动作都不做。它基本上类似于 <code>const babel = code =&gt; code;</code>，将代码解析之后再输出同样的代码。如果想要 Babel 做一些实际的工作，就需要为其添加插件。</p><p>除了一个一个的添加插件，你还可以以 <code>preset</code> 的形式启用一组插件。</p><p>在 <a href="https://www.babeljs.cn/docs/plugins#%E8%BD%AC%E6%8D%A2%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener noreferrer">Babel 转换插件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 这里可以看到插件列表。</p><h3 id="插件顺序"><a aria-hidden="true" href="#插件顺序"><span class="icon icon-link"></span></a>插件顺序</h3><p>这意味着如果两个转换插件都将处理 <strong>程序（Program）</strong> 的某个代码片段，则将根据转换插件或 preset 的排列顺序依次执行。</p><ul><li>插件在 Presets 前运行。</li><li>插件顺序从前往后排列。</li><li>Preset 顺序是颠倒的（从后往前）。</li></ul><p>例如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-json"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
  &quot;plugins&quot;: [&quot;transform-decorators-legacy&quot;, &quot;transform-class-properties&quot;]
}
" data-status="copy"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;transform-decorators-legacy&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;transform-class-properties&quot;</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>先执行 <code>transform-decorators-legacy</code>，再执行 <code>transform-class-properties</code>。</p><p>重要的时，preset 的顺序是 颠倒的。如下设置：</p><div class="__dumi-default-code-block"><pre class="prism-code language-json"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
  &quot;presets&quot;: [&quot;es2015&quot;, &quot;react&quot;, &quot;stage-2&quot;]
}
" data-status="copy"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;presets&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;stage-2&quot;</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="模块介绍"><a aria-hidden="true" href="#模块介绍"><span class="icon icon-link"></span></a>模块介绍</h2><h3 id="babel-core"><a aria-hidden="true" href="#babel-core"><span class="icon icon-link"></span></a>babel-core</h3><h3 id="babel-cli"><a aria-hidden="true" href="#babel-cli"><span class="icon icon-link"></span></a>babel-cli</h3><h3 id="babel-node"><a aria-hidden="true" href="#babel-node"><span class="icon icon-link"></span></a>babel-node</h3><h3 id="babel-register"><a aria-hidden="true" href="#babel-register"><span class="icon icon-link"></span></a>babel-register</h3><h3 id="babel-polyfill"><a aria-hidden="true" href="#babel-polyfill"><span class="icon icon-link"></span></a>babel-polyfill</h3><p><code>babel-polyfill</code> 在代码中的作用主要是用已经存在的语法和 API 实现一些浏览器还没有实现的 API、对浏览器的一些缺陷做一些修补。例如 Array 新增了 <code>includes</code> 方法，我想使用，但是低版本的浏览器没有，引入 <code>babel-polyfill</code> 则可以帮助我们解决这个问题。</p><h2 id="配置文件"><a aria-hidden="true" href="#配置文件"><span class="icon icon-link"></span></a>配置文件</h2><p>.babelrc</p><hr/><p><strong>参考资料：</strong></p><ul><li><a href="https://www.babeljs.cn/" target="_blank" rel="noopener noreferrer">📖 Babel 中文网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md" target="_blank" rel="noopener noreferrer">📖 Babel 手册：用户手册 - 如何安装 / 配置 Babel 及相关内容 - 中文翻译版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md" target="_blank" rel="noopener noreferrer">📖 Babel 手册：插件手册 - 如何为 Babel 创建插件 - 中文翻译版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/node-guidebook/edit/master/docs/util-application/babel/index.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/4/2020, 3:39:37 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/node-guidebook/umi.js"></script>
    <script src="/node-guidebook/docs__util-application__babel__index.md.js"></script>
  </body>
</html>
